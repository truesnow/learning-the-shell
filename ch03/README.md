# 3. 查看文件和目录

本篇介绍：
- `ls`（list files and directories）
- `less`（view text files）
- `file`（classify a file's contents）

## ls
`ls` 几乎是最常用的命令。以下是其用法的几个示例：
- `ls`：列出当前目录的文件
- `ls /bin`：列出 */bin* 目录的文件（或者其他指定目录）
- `ls -l`：以长格式列出当前目录的文件
- `ls -l /etc /bin`：以长格式列出 */bin* 和 */etc* 目录的文件
- `ls -la ..`：以长格式列出工作目录的父目录的所有文件（包括以句号 `.` 开头的隐藏文件）

从以上示例可以看出命令格式都类似：

```sh
$ command -options arguments
```

command 为命令的名称，-options 为命令的一个或多个行为调整，arguments 是命令操作的一个或多个事物。
在这里，`ls` 是命令名称，它可以有一个或多个选项，例如 `-a` 或 `-l`，并且它可以操作一个或多个文件或目录。


### 长格式
如果 `ls` 命令带 `-l` 选项，那么你可以看到以下列出的信息。示例：

**文件名**
文件或目录名称

**修改时间**
文件的最后修改时间。如果超过 6 个月，显示日期和年份。否则，显示当天的时间。

**大小**
文件大小，以字节为单位。

**组**
除文件所有者外，有权限操作文件的组的名称。

**所有者**
文件的所有者的名称。

**文件权限**
文件访问权限的表达式。第一个字符表示文件类型。`-` 表示普通（二进制）文件。`d` 表示目录。第二组三个字符表示文件所有者的读、写和执行权限。接下来三个字符表示文件所有组的权限，最后三个字符表示其他人的权限。


## less
`less` 用于查看文本文件。

> **什么是「text」？
> 计算机中有多种方式表达信息。但是计算机只理解数字，所以最终所有数据都会转换成数字。
> 有些表现系统很复杂（例如多媒体文件），有些则很简单。最早和最简单的叫 ASCII 文本（American Standard Code for Information Interchange，美国信息交换标准代码，读「As-Key」音）。最早用于电传打字机，映射键盘字符为数字。
> 文本是一对一的将字符转换为数字。五十个字符会翻译为五十个字节的数据。在 Linux 系统中有许多文本，也有许多工具用于操作文本文件。

`less` 程序用法：

```sh
$ less text_file
```

以上命令将显示文件。


### 控制 less
`less` 每次显示文件的一页。你可以使用上一页和下一页按钮来移动文件。按 `q` 退出 `less`。以下是 `less` 支持的几个命令：

| 命令 | 动作 |
| --- | --- |
| Page Up 或 b | 滚动到上一页 |
| Page Down 或空格 | 滚动到下一页 |
| G | 跳转到文件末尾 |
| 1G| 跳转到文件开头 |
| /characters | 搜索文本文件中指定 characters 出现的位置 |
| n | 跳到上一个搜索结果 |
| h | 显示 less 命令的完整选项列表 |
| q | 退出 |



## file
`file` 可以检测文件并告诉你文件的类型是什么。
使用：

```sh
$ file name_of_file
```

`file` 可以识别大部分类型的文件，例如：

| 文件类型 | 描述 | 是否可读文本 |
| --- | --- | --- |
| ASCII 文本 |  | 是 |
| shell 脚本 | | 是 |
| GUN tar 归档 |  | 否，可用 `tar tvf` 查看列表 |
| gzip 压缩数据 | 使用 `gzip` 压缩的归档 | 否 |
| HTML 文档 | web 页面 | 是 |
| JPEG 图像数据 | 压缩的 JPEG 图像 | 否 |
| RPM | 红帽包管理压缩文件 | 否，使用 `rpm -q` 查看内容 |
| zip 压缩数据 | 使用 `zip` 压缩的归档 | 否 |

Linux 没有秘密。

